<!DOCTYPE html>
<html lang="en">
 
 <head>
 <meta charset="UTF-8">
 <title>图片懒加载(可视区域加载)</title>
 <style>
  * {
  padding: 0px;
  margin: 0px;
  }
   .demo2{
   	width: 100%;
   	float: left;
   	height: 2000px;
   	background: #0094ff;
   }
  html,
  body {
  width: 100%;
  min-height: 100%;
  }
   
  #SB {
  margin: 0;
  padding: 0;
  list-style: none;
  overflow: hidden;
  }
   
  #SB .in {
  border: 1px solid red;
  margin: 10px;
  text-align: center;
  height: 400px;
  width: 400px;
  float: left;
  }
   
  .in img {
  border: none;
  vertical-align: middle;
  height: 400px;
  width: 400px;
  }
 </style>
 </head>
 
 <body>
 <ul id="SB">
  <li class="in"><img src="img/1.jpg" data-imgurl="img/1.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/2.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/3.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/4.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/5.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/6.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/7.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/8.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/9.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/10.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/11.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/12.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/13.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/14.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/15.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/16.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/1.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/2.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/3.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/4.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/5.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/6.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/7.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/8.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/9.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/10.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/11.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/12.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/13.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/14.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/15.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/16.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/1.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/2.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/3.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/4.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/5.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/6.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/7.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/8.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/9.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/10.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/11.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/12.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/13.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/14.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/15.jpg"></li>
  <li class="in"><img src="img/1.jpg" data-imgurl="img/16.jpg"></li>
 </ul>
 <script type="text/javascript">


  var imglist = document.getElementById('SB').getElementsByTagName('img');
loadImg(imglist);

window.onscroll = function () {
	loadImg(imglist);
}


 function loadImg (arr) {
 	for (var i = 0, len = arr.length; i < len; i++) {
 		if ((imglist[i].getBoundingClientRect().top < document.documentElement.clientHeight) && !arr[i].isLoad) {

 			arr[i].isLoad = true; //图片显示标志位

 			
 			(function (i) {
 				window.setTimeout(function(){
 					if (arr[i].dataset) {
 						aftLoadImg(arr[i], arr[i].dataset.imgurl);
 					}
 					else {
 						aftLoadImg(arr[i], arr[i].getAttribute('data-imgurl'));
 					}

 					arr[i].style.cssText = "transition: 1s; opacity: 1;";
 				}, 500);
 			})(i);
 			console.log(1111);
 		}
 	}
 };

 function aftLoadImg (obj,url) {
 	var oImg = new Image();
 	oImg.src = url;

 	oImg.onload = function () {
 		obj.src = oImg.src;
 	}
 };
 </script>
 </body>
 
</html>